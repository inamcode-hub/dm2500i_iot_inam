// data/diagnosticsData.js - Centralized diagnostics data configuration
// Based on 2500i_embedded system diagnostics configuration

const DIAGNOSTICS_DATA = [
  // Live Sensor Readings
  {
    name: 'inlet_moisture_live',
    channum: 300,
    sztag: 'DAI_INLET_MOISTURE',
    column: 'pv',
    table: 'io_table',
    description: 'Current inlet moisture reading',
    unit: '%',
    category: 'live_sensors',
    type: 'analog_input',
  },
  {
    name: 'outlet_moisture_live',
    channum: 301,
    sztag: 'DAI_OUTLET_MOISTURE',
    column: 'pv',
    table: 'io_table',
    description: 'Current outlet moisture reading',
    unit: '%',
    category: 'live_sensors',
    type: 'analog_input',
  },
  {
    name: 'inlet_temperature_live',
    channum: 308,
    sztag: 'DAI_INLET_TEMP',
    column: 'pv',
    table: 'io_table',
    description: 'Current inlet temperature reading',
    unit: '째C',
    category: 'live_sensors',
    type: 'analog_input',
  },
  {
    name: 'outlet_temperature_live',
    channum: 307,
    sztag: 'DAI_OUTLET_TEMP',
    column: 'pv',
    table: 'io_table',
    description: 'Current outlet temperature reading',
    unit: '째C',
    category: 'live_sensors',
    type: 'analog_input',
  },
  {
    name: 'drying_temp_live',
    channum: 50,
    sztag: 'DAI_APT_TEMP',
    column: 'pv',
    table: 'io_table',
    description: 'Current drying temperature',
    unit: '째C',
    category: 'live_sensors',
    type: 'analog_input',
  },
  {
    name: 'discharge_rate_live',
    channum: 49,
    sztag: 'DAI_DISPLAY_RATE',
    column: 'pv',
    table: 'io_table',
    description: 'Current discharge rate',
    unit: 'kg/h',
    category: 'live_sensors',
    type: 'analog_input',
  },
  
  // Control Outputs
  {
    name: 'discharge_rate_setpoint_output',
    channum: 271,
    sztag: 'DAO_DISCHRG_RATE_SP',
    column: 'pv',
    table: 'io_table',
    description: 'Discharge rate setpoint output',
    unit: 'kg/h',
    category: 'control_outputs',
    type: 'analog_output',
  },
  {
    name: 'moisture_setpoint_output',
    channum: 20,
    sztag: 'DAI_MOISTURE_SP',
    column: 'pv',
    table: 'io_table',
    description: 'Moisture setpoint output',
    unit: '%',
    category: 'control_outputs',
    type: 'analog_output',
  },
  {
    name: 'temperature_setpoint_output',
    channum: 50,
    sztag: 'DAI_APT_TEMP_SP',
    column: 'pv',
    table: 'io_table',
    description: 'Temperature setpoint output',
    unit: '째C',
    category: 'control_outputs',
    type: 'analog_output',
  },
  
  // Digital I/O Status
  {
    name: 'inlet_state',
    channum: 350,
    sztag: 'DAI_INLET_STATE',
    column: 'pv',
    table: 'io_table',
    description: 'Inlet state status',
    unit: 'state',
    category: 'digital_status',
    type: 'digital_input',
  },
  {
    name: 'outlet_state',
    channum: 353,
    sztag: 'DAI_OUT_STATE',
    column: 'pv',
    table: 'io_table',
    description: 'Outlet state status',
    unit: 'state',
    category: 'digital_status',
    type: 'digital_input',
  },
  {
    name: 'dryer_state',
    channum: 105,
    sztag: 'CDP_DRYER_STATE',
    column: 'pv',
    table: 'cdp_table',
    description: 'Dryer operation state',
    unit: 'state',
    category: 'digital_status',
    type: 'digital_input',
  },
  {
    name: 'manual_mode_active',
    channum: 89,
    sztag: 'CDP_MANUAL_ENABLE',
    column: 'pv',
    table: 'cdp_table',
    description: 'Manual mode active status',
    unit: 'bool',
    category: 'digital_status',
    type: 'digital_input',
  },
  {
    name: 'auto_mode_active',
    channum: 156,
    sztag: 'CDP_AUTO_ENABLE',
    column: 'pv',
    table: 'cdp_table',
    description: 'Automatic mode active status',
    unit: 'bool',
    category: 'digital_status',
    type: 'digital_input',
  },
  
  // System Status
  {
    name: 'system_ready',
    channum: 275,
    sztag: 'DAO_SYSTEM_READY',
    column: 'pv',
    table: 'io_table',
    description: 'System ready status',
    unit: 'bool',
    category: 'system_status',
    type: 'digital_input',
  },
  {
    name: 'not_ready_reason',
    channum: 277,
    sztag: 'DAO_NOT_READY_REASON',
    column: 'pv',
    table: 'io_table',
    description: 'System not ready reason code',
    unit: 'code',
    category: 'system_status',
    type: 'digital_input',
  },
  {
    name: 'alarm_active',
    channum: 278,
    sztag: 'DAO_ALARM_ACTIVE',
    column: 'pv',
    table: 'io_table',
    description: 'Active alarm status',
    unit: 'bool',
    category: 'system_status',
    type: 'digital_input',
  },
  {
    name: 'warning_active',
    channum: 279,
    sztag: 'DAO_WARNING_ACTIVE',
    column: 'pv',
    table: 'io_table',
    description: 'Active warning status',
    unit: 'bool',
    category: 'system_status',
    type: 'digital_input',
  },
  
  // Model Predictions
  {
    name: 'suggested_rate',
    channum: 184,
    sztag: 'CDP_SUGGEST_RATE',
    column: 'pv',
    table: 'cdp_table',
    description: 'Model suggested discharge rate',
    unit: 'kg/h',
    category: 'model_predictions',
    type: 'calculated',
  },
  {
    name: 'predicted_moisture',
    channum: 185,
    sztag: 'CDP_PREDICTED_MOISTURE',
    column: 'pv',
    table: 'cdp_table',
    description: 'Model predicted outlet moisture',
    unit: '%',
    category: 'model_predictions',
    type: 'calculated',
  },
  {
    name: 'residence_time_calc',
    channum: 268,
    sztag: 'DAO_RESIDENCE_T',
    column: 'pv',
    table: 'io_table',
    description: 'Calculated residence time',
    unit: 's',
    category: 'model_predictions',
    type: 'calculated',
  },
  
  // Calibration Status
  {
    name: 'inlet_moisture_cal_status',
    channum: 330,
    sztag: 'DAI_INLET_MOISTURE_CAL_STATUS',
    column: 'pv',
    table: 'io_table',
    description: 'Inlet moisture calibration status',
    unit: 'status',
    category: 'calibration_status',
    type: 'digital_input',
  },
  {
    name: 'outlet_moisture_cal_status',
    channum: 331,
    sztag: 'DAI_OUTLET_MOISTURE_CAL_STATUS',
    column: 'pv',
    table: 'io_table',
    description: 'Outlet moisture calibration status',
    unit: 'status',
    category: 'calibration_status',
    type: 'digital_input',
  },
  {
    name: 'inlet_temp_cal_status',
    channum: 332,
    sztag: 'DAI_INLET_TEMP_CAL_STATUS',
    column: 'pv',
    table: 'io_table',
    description: 'Inlet temperature calibration status',
    unit: 'status',
    category: 'calibration_status',
    type: 'digital_input',
  },
  {
    name: 'outlet_temp_cal_status',
    channum: 333,
    sztag: 'DAI_OUTLET_TEMP_CAL_STATUS',
    column: 'pv',
    table: 'io_table',
    description: 'Outlet temperature calibration status',
    unit: 'status',
    category: 'calibration_status',
    type: 'digital_input',
  },
];

// Diagnostics categories for organization
const DIAGNOSTICS_CATEGORIES = {
  live_sensors: {
    name: 'Live Sensors',
    description: 'Real-time sensor readings',
    icon: 'sensors',
    color: '#4CAF50',
  },
  control_outputs: {
    name: 'Control Outputs',
    description: 'Control system outputs and setpoints',
    icon: 'tune',
    color: '#2196F3',
  },
  digital_status: {
    name: 'Digital Status',
    description: 'Digital I/O and system states',
    icon: 'toggle_on',
    color: '#FF9800',
  },
  system_status: {
    name: 'System Status',
    description: 'Overall system health and status',
    icon: 'health_and_safety',
    color: '#9C27B0',
  },
  model_predictions: {
    name: 'Model Predictions',
    description: 'AI model predictions and calculations',
    icon: 'psychology',
    color: '#607D8B',
  },
  calibration_status: {
    name: 'Calibration Status',
    description: 'Sensor calibration status and health',
    icon: 'engineering',
    color: '#795548',
  },
};

module.exports = {
  DIAGNOSTICS_DATA,
  DIAGNOSTICS_CATEGORIES,
};